<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-type" content="text/html; charset=utf-8">
    <title>wait</title>
    <script type="text/javascript" charset="utf-8" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <script type="text/javascript" charset="utf-8">
      
      
      AsciiWait = function(element, options){

        this.element = element;
        this.currentFrame = 0;
        this.originalText = element.text();
        this.timer = false;
        
        this.options = $.extend({
          frames : ['●○○','○●○','○○●','○○○'],
          timeout : 200,
          disable : function(e){ e.preventDefault(); }
        },options);

        this.step = function(){
          thisFrame = this.options.frames[(this.currentFrame++) % this.options.frames.length];
          this.element[this.element.is('input') ? 'val' : 'text'](thisFrame)
        };
        
        this.isWaiting = function(){
          return !!this.timer;
        };

        this.wait = function(){
          this.element.click(this.options.disable);
          if(!this.timer){
            this.timer = setInterval($.proxy(this.step,this),this.options.timeout);
            return true;
          }else{
            return false;
          }
        };

        this.stopWaiting = function(){
          if(!this.timer){
            return false;
          }else{
            this.element.click(this.options.disable);
            currentFrame = 0;
            clearTimeout(this.interval);
            this.interval = null;
            this.element.text(this.originalText);
            this.element.unbind('click',this.options.disable);
            return true;
          }
        };
        
        return this;
        
      };
      
      
      $(function(){
        link = $('a.waitme').first()
        button = $('input.waitme').first()
        
        linkWaiter = new AsciiWait(link);
        buttonWaiter = new AsciiWait(button);
        
        
      });
      
    </script>
  </head>
  <body>
    
    <a href="http://www.google.com" class="waitme">Foo</a>
    <input type="submit" value="Foo" class="waitme" />
    
  </body>
</html>